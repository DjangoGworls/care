{% extends "groupaccount/base.html" %}

{% block content %}

    <style type="text/css">
      table {
        width:80%;
      }
    </style>
  <center><h4>Received</h4></center>
  {% if invitesReceived %}
    <table>
    <tr>
      <th><b>Group</b></th>
      <th><b>Inviter</b></th>
      <th><b>Invitee</b></th>
      <th><b>Date</b></th>
      <th><b>Status</b></th>
    </tr>
    {% for invite in invitesReceived %}
    <tr>
    <td>{{ invite.groupAccount }}</td>
    <td>
      {% ifequal invite.inviter.displayname displayname %}
        <b>{{ invite.inviter }}</b>
      {% else %}
        {{ invite.inviter }}
      {% endifequal %}
    </td>
    <td>
      {% ifequal invite.invitee.displayname displayname %}
        <b>{{ invite.invitee }}</b></font>
      {% else %}
        {{ invite.invitee }}</font>
      {% endifequal %}
    </td>
    <td>{{ invite.createdDateAndTime|date:"SHORT_DATE_FORMAT"  }}</td>
    {% if invite.isAccepted %}
      <td style="color:green"> <b>Accepted</b> </td>
    {% elif invite.isDeclined %}
      <td style="color:red"> <b>Declined</b> </td>
    {% else %}
      <td > <b><a href="/invites/accept/{{ invite.id }}">Accept</a> | <a href="/invites/decline/{{ invite.id }}">Decline</a></b></td>
    {% endif %}
    </tr>
    {% endfor %}
    </table>

  {% else %}
    <font id="userMessageFont">No invites received.</font>
  {% endif %}
  
  <center><h4>Sent</h4></center>
  {% if invitesSent %}
    <table>
    <tr>
      <th><b>Group</b></th>
      <th><b>Inviter</b></th>
      <th><b>Invitee</b></th>
      <th><b>Date</b></th>
      <th><b>Status</b></th>
    </tr>
    {% for invite in invitesSent %}
    <tr>
		<td>{{ invite.groupAccount }}</td>
		<td>
		  {% ifequal invite.inviter.displayname displayname %}
		  	<b>{{ invite.inviter }}</b>
		  {% else %}
		  	{{ invite.inviter }}
		  {% endifequal %}
		</td>
		<td>
		  {% ifequal invite.invitee.displayname displayname %}
		    <b>{{ invite.invitee }}</b></font>
		  {% else %}
		    {{ invite.invitee }}</font>
		  {% endifequal %}
		</td>
		<td>{{ invite.createdDateAndTime|date:"SHORT_DATE_FORMAT"  }}</td>
    {% if invite.isAccepted %}
		  <td style="color:green"> <b>Accepted</b> </td>
		{% elif not invite.isDeclined %}
		  <td > <b>Open</b> </td>
		{% else %}
		  <td style="color:red"> <b>Declined</b> </td>
    {% endif %}
    </tr>
  	{% endfor %}
  	</table>

  {% else %}
    <font id="userMessageFont">No invites sent.</font>
  {% endif %}

{% endblock %}