{% extends "base/base.html" %}

{% block content %}
  <center><h3>Shared</h3></center>
  
  {% if transactionsAll %}
  
<div class="row">
  <div class="col-md-10 col-md-offset-1" align="center">
    <table class="table table-striped table-hover table-condensed">
    <tr>
      <th><b>&#8364</b></th>
      <th><b>What</b></th>
      <th><b>Group</b></th>
      <th><b>Who</b></th>
      <th><b>Shared with</b></th>
      <th><b>Date</b></th>
    </tr>
      {% for transaction in transactionsAll %}
    <tr>
    
     	<td {% if transaction.amountPerPersonFloat <= 0.0 %} style="color:red" {% else %}
  	    style="color:green"
  	    {% endif %}>
  	    <b>{{ transaction.amountPerPerson }}</b>
      </td>
    
      <td > <b>{{ transaction.what }}</b> </td> 
    
      <td>{{ transaction.groupAccount }}</td>
    
      <td>
        {% ifequal transaction.buyer.displayname displayname %}
        	<b>{{ transaction.buyer }}</b>
        {% else %}
        	{{ transaction.buyer }}
        {% endifequal %}
      </td>
      
      <td>
      {% for consumer in transaction.consumers.all %}
        {% ifequal consumer.displayname displayname %}
        <b>{{ consumer }}</b>
        {% else %}
        {{ consumer }}
        {% endifequal %}
      {% endfor %}
      </td>
      
      <td>{{ transaction.date|date:"Y-m-d"  }}</td>
    
    </tr>
  	{% endfor %}
  	</table>
  </div>
</div>

  {% else %}
    <center>
      No virtual transactions available.
    </center>
  {% endif %}

  <center><h3>Transactions</h3></center>

  {% if transactionsRealAll %}
<div class="row">
  <div class="col-md-10 col-md-offset-1" align="center">
    <table class="table table-striped table-hover">
    <tr>
      <th><b>&#8364</b></th>
      <th><b>From</b></th>
      <th><b>To</b></th>
      <th><b>Comment</b></th>
      <th><b>Group</b></th>
      <th><b>Date</b></th>
    </tr>
    {% for transaction in transactionsRealAll %}
    <tr>
	<td {% if transaction.amountPerPersonFloat <= 0.0 %} style="color:red" {% else %}
	    style="color:green"
	    {% endif %}>
	    <b>{{ transaction.amountPerPerson }}</b></td>
	<td>
	  {% ifequal transaction.sender.displayname displayname %}
	  	<b>{{ transaction.sender }}</b>
	  {% else %}
	  	{{ transaction.sender }}
	  {% endifequal %}
	</td>
	<td>
	  {% ifequal transaction.receiver.displayname displayname %}
	  	<b>{{ transaction.receiver }}</b>
	  {% else %}
	  	{{ transaction.receiver }}
	  {% endifequal %}
	</td>
	<td >{{ transaction.comment }}</td> 
	<td >{{ transaction.groupAccount }}</td> 
	<td>{{ transaction.date|date:"SHORT_DATE_FORMAT"  }}</td>
    </tr>
  	{% endfor %}
  	</table>
  </div>
</div>

  {% else %}
    <center>
    <font id="userMessageFont">
      No real transactions available.
    </font>
    </center>
  {% endif %}

{% endblock %}
